\newpage
# Threshold Filtering

Threshold filters, following Florida Department of Environmental Protection Division of Environmental Assessment and Restoration (DEAR) are used to exclude specific results values from the SEACAR Analysis. Based on the threshold filters, QAQC Flags are inserted into the SEACAR_QAQCFlagCode and SEACAR_QAQC_Description columns of the export data. The Include_YN column indicates whether the QAQC Flag will also indicate that data are excluded from analysis. No data are excluded from the data export, but the analysis scripts can use the Include_YN column to exclude data.


```{r, results='asis', echo=FALSE, warning=FALSE}
library(knitr)
library(kableExtra)
threshold_df <- data.frame(desc = c("Exceeds Maximum threshold. Not verified in raw data", 
                          "Exceeds Maximum threshold. Verified in raw data",
                          "Below Minimum threshold. Not verified in raw data",
                          "Below Minimum threshold. Verified in raw data",
                          "Within threshold tolerance",
                          "No defined thresholds for this parameter"),
                 inc = c("N", "N", "N", "N", "Y", "Y"), 
                 flag = c("2Q", "3Q", "4Q", "5Q", "6Q", "7Q"))
kable(threshold_df, col.names = c("*SEACAR QAQC Description*", "*Include YN*", "*SEACAR QAQCFlagCode*"), 
      escape = F, caption = "QA Flags inserted based on threshold checks",
      format = "simple") %>%
  kable_styling(latex_options = "scale_down",
                position = "center")
```


# Value Qualifiers
Value qualifier codes included within the data are used to exclude certain results from the analysis. The data are retained in the data export files, but the analysis uses the “Include” column to filter the results.

**STORET and WIN value qualifier codes**  

  Value qualifier codes from STORET and WIN data are examined with the database and used to populate the Include_YN column in data exports.

```{r, results='asis', echo=FALSE, warning=FALSE}
vq_df <- data.frame(vq = c("H","J","V","Y"),
                    inc = c(0, 0, 0, 0), 
                    mdl = c(0, 0, 0, 0),
                    qual_soruce = c("STORET-WIN", "STORET-WIN", "STORET-WIN", "STORET-WIN"))
kable(vq_df, col.names = c("*Value Qualifier*", "*Include YN/10*", "*MDL YN/10*", "*Qualifier Source*"),
      escape = F, 
      caption = "Value Qualifier codes excluded from analysis",
      format = "simple") %>%
  kable_styling(latex_options = "scale_down",
                position = "center")
```

**Systemwide Monitoring Program (SWMP) value qualifier codes**  

  Value qualifier codes from the SWMP continuous program are examined with the database and used to populate the Include_YN column in data exports. SWMP Qualifier Codes are indicated by QualifierSource=SWMP.  
  
```{r, results='asis', echo=FALSE, warning=FALSE}
swmp <- data.frame(qs = c("SWMP", "SWMP", "SWMP", "SWMP", "SWMP", "SWMP", "SWMP", "SWMP", "SWMP", "SWMP", "SWMP"),
                    vq = c(-1, -2, -3, -4, -5, 0, 1, 2, 3, 4, 5), 
                    inc = c(1, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1))
kable(swmp, col.names = c("*Qualifier Source*", "*ValueQualifier*", "*Include YN*"),
      escape = F, 
      caption = "SWMP Value Qualifier codes",
      format = "simple") %>%
  kable_styling(latex_options = "scale_down",
                position = "center")
```